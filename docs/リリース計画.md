# G-progress 全社リリース計画

**作成日**: 2025年10月23日
**対象システム**: G-progress（注文住宅事業 業務管理システム）
**リリース目標**: 全社展開

---

## 1. プロジェクト概要

G-progressを開発環境から本番環境へ移行し、全社で利用可能な状態にするための計画書。

### 現在の状況
- ✅ 注文住宅事業の基本機能実装済み
- ✅ デモモード実装済み
- ⚠️ 認証機能は開発用バイパス（本番未対応）
- ⚠️ 一部機能は仮データ使用（粗利益管理など）
- ⚠️ テスト未実施
- ⚠️ 本番環境未構築

---

## 2. リリース項目・進捗・必要日数

### 2.1 フロントエンド

| No | 項目 | 内容 | 進捗 | 必要日数 | 担当 | 優先度 |
|----|------|------|------|---------|------|--------|
| F-1 | 認証機能の実装 | Supabase Authの統合、ログイン/ログアウト、セッション管理 | 0% | 3日 | 開発 | 🔴 高 |
| F-2 | エラーハンドリング強化 | グローバルエラーバウンダリー、ユーザーフレンドリーなエラーメッセージ | 30% | 2日 | 開発 | 🔴 高 |
| F-3 | バリデーション追加 | 全フォームの入力検証、エラー表示の統一 | 50% | 2日 | 開発 | 🔴 高 |
| F-4 | ローディング状態改善 | スケルトンUI、プログレスバー、非同期処理の可視化 | 60% | 1日 | 開発 | 🟡 中 |
| F-5 | 本番ビルド最適化 | コード分割、遅延読み込み、バンドルサイズ削減 | 40% | 2日 | 開発 | 🟡 中 |
| F-6 | パフォーマンス最適化 | React.memo、useMemo、useCallback適用、レンダリング最適化 | 30% | 2日 | 開発 | 🟡 中 |
| F-7 | ブラウザ互換性テスト | Chrome、Edge、Firefox、Safari対応確認 | 0% | 1日 | QA | 🟡 中 |
| F-8 | レスポンシブ確認 | スマホ、タブレット表示の最終確認 | 70% | 1日 | QA | 🟢 低 |
| F-9 | アクセシビリティ対応 | ARIA属性、キーボードナビゲーション | 20% | 2日 | 開発 | 🟢 低 |
| F-10 | オフライン対応検討 | Service Worker、キャッシュ戦略（任意） | 0% | 3日 | 開発 | 🟢 低 |

**小計**: 19日

---

### 2.2 バックエンド（Supabase）

| No | 項目 | 内容 | 進捗 | 必要日数 | 担当 | 優先度 |
|----|------|------|------|---------|------|--------|
| B-1 | 本番環境セットアップ | Supabase本番プロジェクト作成、環境変数設定 | 0% | 1日 | インフラ | 🔴 高 |
| B-2 | マイグレーション実行 | 全SQLマイグレーションの本番実行、検証 | 80% | 1日 | DB | 🔴 高 |
| B-3 | RLSポリシー強化 | 行レベルセキュリティの見直し、権限設定 | 60% | 2日 | DB | 🔴 高 |
| B-4 | インデックス最適化 | クエリパフォーマンス向上、スロークエリ対策 | 40% | 2日 | DB | 🟡 中 |
| B-5 | バックアップ設定 | 自動バックアップ、リストア手順確立 | 0% | 1日 | インフラ | 🔴 高 |
| B-6 | モニタリング設定 | ログ監視、アラート設定、ダッシュボード構築 | 0% | 2日 | インフラ | 🟡 中 |
| B-7 | API制限・レート制限 | 過負荷防止、DDoS対策 | 0% | 1日 | インフラ | 🟡 中 |
| B-8 | データベース容量計画 | ストレージ見積もり、スケーリング計画 | 0% | 1日 | インフラ | 🟢 低 |

**小計**: 11日

---

### 2.3 セキュリティ

| No | 項目 | 内容 | 進捗 | 必要日数 | 担当 | 優先度 |
|----|------|------|------|---------|------|--------|
| S-1 | 認証・認可実装 | ユーザー認証、役割ベース権限管理（RBAC） | 0% | 4日 | 開発 | 🔴 高 |
| S-2 | HTTPS設定 | SSL証明書、強制HTTPS | 0% | 0.5日 | インフラ | 🔴 高 |
| S-3 | 環境変数保護 | .env管理、シークレット管理 | 80% | 0.5日 | インフラ | 🔴 高 |
| S-4 | セキュリティヘッダー | CSP、HSTS、X-Frame-Options等 | 0% | 1日 | インフラ | 🟡 中 |
| S-5 | SQLインジェクション対策 | パラメータ化クエリ確認（Supabaseは基本対応済み） | 90% | 0.5日 | 開発 | 🔴 高 |
| S-6 | XSS対策 | 入力サニタイズ、出力エスケープ確認 | 70% | 1日 | 開発 | 🔴 高 |
| S-7 | CSRF対策 | トークン検証（Supabaseは基本対応済み） | 90% | 0.5日 | 開発 | 🟡 中 |
| S-8 | セキュリティ診断 | 脆弱性スキャン、ペネトレーションテスト | 0% | 2日 | セキュリティ | 🟡 中 |

**小計**: 10日

---

### 2.4 データ

| No | 項目 | 内容 | 進捗 | 必要日数 | 担当 | 優先度 |
|----|------|------|------|---------|------|--------|
| D-1 | マスターデータ整備 | 従業員、部門、役割、タスクマスタ等の初期データ作成 | 40% | 3日 | 業務 | 🔴 高 |
| D-2 | サンプルデータ削除 | 開発用サンプルデータのクリーンアップ | 0% | 0.5日 | 開発 | 🔴 高 |
| D-3 | データ移行計画 | 既存システムからのデータ移行（必要な場合） | 0% | 5日 | 業務/開発 | 🟡 中 |
| D-4 | データ整合性チェック | 外部キー、NOT NULL制約の確認 | 70% | 1日 | DB | 🟡 中 |
| D-5 | データクレンジング | 重複削除、不正データ修正 | 0% | 2日 | 業務 | 🟡 中 |

**小計**: 11.5日

---

### 2.5 テスト

| No | 項目 | 内容 | 進捗 | 必要日数 | 担当 | 優先度 |
|----|------|------|------|---------|------|--------|
| T-1 | 単体テスト | コンポーネント、関数の単体テスト（Vitest） | 0% | 5日 | 開発 | 🟡 中 |
| T-2 | 統合テスト | API連携、データフローのテスト | 0% | 3日 | 開発 | 🟡 中 |
| T-3 | E2Eテスト | 主要フローの自動テスト（Playwright） | 0% | 4日 | QA | 🟡 中 |
| T-4 | ユーザー受け入れテスト | 実際のユーザーによる受け入れテスト | 0% | 5日 | 業務/QA | 🔴 高 |
| T-5 | 負荷テスト | 想定ユーザー数での性能テスト | 0% | 2日 | インフラ | 🟡 中 |
| T-6 | セキュリティテスト | 脆弱性診断、ペネトレーションテスト | 0% | 2日 | セキュリティ | 🔴 高 |
| T-7 | ブラウザ互換性テスト | 各ブラウザでの動作確認 | 0% | 1日 | QA | 🟡 中 |
| T-8 | デバイステスト | PC、タブレット、スマホでの動作確認 | 0% | 1日 | QA | 🟡 中 |
| T-9 | リグレッションテスト | 既存機能の退行テスト | 0% | 2日 | QA | 🟡 中 |

**小計**: 25日

---

### 2.6 ドキュメント

| No | 項目 | 内容 | 進捗 | 必要日数 | 担当 | 優先度 |
|----|------|------|------|---------|------|--------|
| DOC-1 | ユーザーマニュアル作成 | 操作手順、画面説明、FAQ | 10% | 5日 | 業務/ドキュメント | 🔴 高 |
| DOC-2 | 管理者マニュアル作成 | システム設定、ユーザー管理、バックアップ手順 | 5% | 3日 | 開発/ドキュメント | 🔴 高 |
| DOC-3 | トラブルシューティングガイド | よくあるエラー、解決方法 | 0% | 2日 | サポート/ドキュメント | 🟡 中 |
| DOC-4 | FAQ作成 | よくある質問と回答 | 0% | 1日 | サポート/ドキュメント | 🟡 中 |
| DOC-5 | API仕様書 | 内部API仕様（今後の拡張用） | 0% | 2日 | 開発 | 🟢 低 |
| DOC-6 | システム構成図 | インフラ、ネットワーク構成 | 30% | 1日 | インフラ | 🟡 中 |
| DOC-7 | データモデル図 | ER図、テーブル関連図 | 50% | 1日 | DB/ドキュメント | 🟡 中 |
| DOC-8 | リリースノート | 機能一覧、既知の問題 | 0% | 1日 | PM | 🔴 高 |

**小計**: 16日

---

### 2.7 デプロイ・インフラ

| No | 項目 | 内容 | 進捗 | 必要日数 | 担当 | 優先度 |
|----|------|------|------|---------|------|--------|
| I-1 | ホスティング環境構築 | Vercel本番環境設定 | 0% | 1日 | インフラ | 🔴 高 |
| I-2 | CI/CDパイプライン構築 | GitHub Actions、自動デプロイ | 0% | 2日 | インフラ | 🟡 中 |
| I-3 | ドメイン設定 | 独自ドメイン取得・設定 | 0% | 0.5日 | インフラ | 🔴 高 |
| I-4 | SSL証明書設定 | Let's Encrypt等 | 0% | 0.5日 | インフラ | 🔴 高 |
| I-5 | CDN設定 | 静的ファイル配信最適化 | 0% | 1日 | インフラ | 🟢 低 |
| I-6 | ログ管理システム | 集中ログ管理、ログ分析 | 0% | 2日 | インフラ | 🟡 中 |
| I-7 | 監視・アラート設定 | Uptime監視、エラーアラート | 0% | 1日 | インフラ | 🟡 中 |
| I-8 | 障害復旧計画 | BCP、DR計画策定 | 0% | 2日 | インフラ/PM | 🟡 中 |

**小計**: 10日

---

### 2.8 トレーニング・サポート

| No | 項目 | 内容 | 進捗 | 必要日数 | 担当 | 優先度 |
|----|------|------|------|---------|------|--------|
| TR-1 | 管理者トレーニング | システム管理者向け研修 | 0% | 2日 | 業務/サポート | 🔴 高 |
| TR-2 | エンドユーザートレーニング | 一般ユーザー向け研修（部門別） | 0% | 5日 | 業務/サポート | 🔴 高 |
| TR-3 | トレーニング資料作成 | 研修用スライド、ハンズオン資料 | 0% | 3日 | 業務/サポート | 🔴 高 |
| TR-4 | サポート体制構築 | ヘルプデスク、問い合わせ窓口設置 | 0% | 2日 | サポート | 🔴 高 |
| TR-5 | バグ報告システム | GitHub Issues、バグトラッキング | 50% | 0.5日 | 開発 | 🟡 中 |
| TR-6 | フィードバック収集システム | ユーザーフィードバック収集・分析 | 0% | 1日 | PM | 🟡 中 |

**小計**: 13.5日

---

### 2.9 その他

| No | 項目 | 内容 | 進捗 | 必要日数 | 担当 | 優先度 |
|----|------|------|------|---------|------|--------|
| O-1 | ライセンス確認 | OSSライセンス、依存パッケージ確認 | 0% | 1日 | 開発 | 🟡 中 |
| O-2 | 利用規約・プライバシーポリシー | 社内利用規約作成 | 0% | 1日 | 法務/PM | 🟡 中 |
| O-3 | データ保持ポリシー | データ保存期間、削除ルール策定 | 0% | 1日 | 業務/法務 | 🟡 中 |
| O-4 | パフォーマンス基準策定 | SLA、KPI設定 | 0% | 1日 | PM | 🟡 中 |
| O-5 | ロールバック計画 | 問題発生時の切り戻し手順 | 0% | 1日 | インフラ/PM | 🔴 高 |
| O-6 | リリース判定会議 | ステークホルダー承認 | 0% | 0.5日 | PM | 🔴 高 |

**小計**: 5.5日

---

## 3. 工数サマリー

| カテゴリ | 項目数 | 必要日数 | 優先度内訳 |
|---------|--------|---------|-----------|
| フロントエンド | 10項目 | **19日** | 高:3、中:5、低:2 |
| バックエンド | 8項目 | **11日** | 高:3、中:3、低:1 |
| セキュリティ | 8項目 | **10日** | 高:5、中:3 |
| データ | 5項目 | **11.5日** | 高:2、中:3 |
| テスト | 9項目 | **25日** | 高:2、中:7 |
| ドキュメント | 8項目 | **16日** | 高:3、中:4、低:1 |
| デプロイ・インフラ | 8項目 | **10日** | 高:3、中:4、低:1 |
| トレーニング・サポート | 6項目 | **13.5日** | 高:4、中:2 |
| その他 | 6項目 | **5.5日** | 高:2、中:4 |
| **合計** | **68項目** | **121.5日** | **高:27、中:35、低:6** |

---

## 4. スケジュール試算

### 4.1 フェーズ分割（推奨）

#### 【フェーズ1: 基盤整備】（2週間 = 10営業日）
**優先度: 🔴 高のみ**

- 認証機能実装（F-1, S-1）
- エラーハンドリング強化（F-2）
- バリデーション追加（F-3）
- 本番環境セットアップ（B-1, B-2, B-5）
- RLSポリシー強化（B-3）
- セキュリティ基本対応（S-2, S-3, S-5, S-6）
- マスターデータ整備（D-1, D-2）
- ドメイン・SSL設定（I-1, I-3, I-4）
- ロールバック計画（O-5）

**工数**: 約25日 → **2名体制で約2週間**

---

#### 【フェーズ2: テスト・品質保証】（3週間 = 15営業日）

- ユーザー受け入れテスト（T-4）
- セキュリティテスト（T-6）
- E2Eテスト（T-3）
- 統合テスト（T-2）
- 負荷テスト（T-5）
- パフォーマンス最適化（F-5, F-6, B-4）
- モニタリング設定（B-6, I-7）
- ドキュメント作成（DOC-1, DOC-2, DOC-8）

**工数**: 約35日 → **3名体制で約2.5週間**

---

#### 【フェーズ3: トレーニング・リリース準備】（2週間 = 10営業日）

- トレーニング資料作成（TR-3）
- 管理者トレーニング（TR-1）
- エンドユーザートレーニング（TR-2）
- サポート体制構築（TR-4）
- ユーザーマニュアル完成（DOC-1, DOC-3, DOC-4）
- リリース判定会議（O-6）

**工数**: 約15日 → **2名体制で約1.5週間**

---

#### 【フェーズ4: 本番リリース・移行】（1週間 = 5営業日）

- 本番デプロイ
- データ移行（D-3、必要な場合）
- 切り替え作業
- 監視強化
- 初期サポート

**工数**: 約5日 → **全員体制で1週間**

---

### 4.2 最短スケジュール

| フェーズ | 期間 | 体制 | 備考 |
|---------|------|------|------|
| フェーズ1 | 2週間 | 開発2名 | 基盤整備 |
| フェーズ2 | 3週間 | 開発2名、QA1名 | テスト・品質保証 |
| フェーズ3 | 2週間 | 業務2名 | トレーニング |
| フェーズ4 | 1週間 | 全員 | リリース |
| **合計** | **8週間（約2ヶ月）** | 開発2名、QA1名、業務2名 | 最短見積もり |

---

### 4.3 推奨スケジュール（余裕を持った計画）

| フェーズ | 期間 | 体制 | 備考 |
|---------|------|------|------|
| フェーズ1 | 3週間 | 開発2名 | 基盤整備 + バッファ |
| フェーズ2 | 4週間 | 開発2名、QA1名 | テスト・品質保証 + バッファ |
| フェーズ3 | 3週間 | 業務2名 | トレーニング + バッファ |
| フェーズ4 | 1週間 | 全員 | リリース |
| **合計** | **11週間（約3ヶ月）** | 開発2名、QA1名、業務2名 | **推奨** |

---

## 5. リスクと対策

| リスク | 影響度 | 発生確率 | 対策 |
|--------|--------|---------|------|
| 認証機能の実装遅延 | 高 | 中 | Supabase Authのテンプレート活用、早期着手 |
| データ移行の複雑化 | 高 | 中 | 事前にデータ構造を確認、段階的移行 |
| ユーザー受け入れテスト不合格 | 高 | 中 | 早期のプロトタイプレビュー、頻繁なフィードバック |
| セキュリティ脆弱性発見 | 高 | 低 | 早期のセキュリティ診断、専門家レビュー |
| パフォーマンス問題 | 中 | 中 | 事前の負荷テスト、段階的ロールアウト |
| トレーニング時間不足 | 中 | 高 | マニュアルの充実、動画教材作成 |
| リリース後のバグ多発 | 高 | 中 | 十分なテスト期間、段階的リリース |

---

## 6. 次のアクション

### 即座に着手すべき項目（優先度：🔴 高）

1. **認証機能実装** (F-1, S-1) - 3〜4日
2. **本番環境セットアップ** (B-1) - 1日
3. **マスターデータ整備開始** (D-1) - 並行作業可能
4. **ユーザーマニュアル作成開始** (DOC-1) - 並行作業可能

### 今週中に完了すべき項目

- [ ] Supabase本番プロジェクト作成
- [ ] 認証機能の設計
- [ ] マスターデータの仕様確定
- [ ] リリーススケジュールの最終承認

---

## 7. 成功基準

### リリース判定基準

以下の条件をすべて満たした場合、リリース可能と判断：

- [ ] 全ての🔴高優先度項目が100%完了
- [ ] ユーザー受け入れテストで重大な問題が0件
- [ ] セキュリティ診断で重大な脆弱性が0件
- [ ] 負荷テストで目標性能（同時100ユーザー）をクリア
- [ ] ユーザーマニュアル、管理者マニュアル完成
- [ ] トレーニング完了率80%以上
- [ ] バックアップ・リストア手順の実証完了
- [ ] ロールバック手順の実証完了

### KPI（リリース後1ヶ月）

- システム稼働率: 99.5%以上
- 平均応答時間: 2秒以内
- 致命的バグ件数: 0件
- ユーザー満足度: 70%以上
- サポート問い合わせ対応率: 100%（24時間以内）

---

## 8. 付録

### 8.1 技術スタック

- **フロントエンド**: React 18, TypeScript, Vite
- **バックエンド**: Supabase (PostgreSQL)
- **ホスティング**: Vercel
- **認証**: Supabase Auth
- **ストレージ**: Supabase Storage
- **CI/CD**: GitHub Actions

### 8.2 参考資料

- [CLAUDE.md](../CLAUDE.md) - プロジェクト概要
- [要件定義書_システム構想ツリー.md](./要件定義書_システム構想ツリー.md) - システム構想
- [development-log-2025-10-23.md](./development-log-2025-10-23.md) - 開発記録

---

**最終更新**: 2025年10月23日
**承認者**: （未定）
**次回レビュー**: 1週間後
